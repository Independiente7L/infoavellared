<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <title>Pr√≥ximos Partidos - Info AvellaRED</title>
  <link rel="icon" type="image/png" href="img/ca_independiente.png" />
  <link rel="stylesheet" href="estilos.css?v=20250801v4" />
  <!-- Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4224083206623509"
     crossorigin="anonymous"></script>
</head>
<body>
  <!-- Header moderno y elegante -->
  <header id="barra-superior">
    <img src="img/ca_independiente.png" alt="Logo Independiente" class="logo-club" />
    <div class="header-titulo-botones">
      <h1>‚öΩ Pr√≥ximos Partidos - Info AvellaRED</h1>
      <nav class="nav-menu">
        <button id="menu-toggle" class="menu-hamburger">
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
        </button>
        <div id="menu-dropdown" class="menu-dropdown">
          <a href="Index.html" class="menu-item">
            <span class="menu-icon">üè†</span>
            <span class="menu-text">Inicio</span>
          </a>
          <a href="resumen.html" class="menu-item">
            <span class="menu-icon">üìä</span>
            <span class="menu-text">Resumen</span>
          </a>
          <a href="analitica.html" class="menu-item">
            <span class="menu-icon">üìà</span>
            <span class="menu-text">Anal√≠tica</span>
          </a>
        </div>
      </nav>
    </div>
  </header>

  <main id="contenido-principal">
    <!-- Secci√≥n de filtros modernos -->
    <section id="filtros-proximos" class="filtros-section">
      <div class="filtros-container">
        <h2 class="seccion-titulo">üóìÔ∏è Calendario de Partidos</h2>
        
        <div id="filtros" class="filtros-grid">
          <input type="text" id="buscador-proximos" placeholder="üîç Buscar jugador o equipo..." />
          
          <select id="filtro-dias">
            <option value="">üìÖ Todos los d√≠as</option>
            <option value="7">üìÜ Pr√≥ximos 7 d√≠as</option>
            <option value="15">üìÜ Pr√≥ximos 15 d√≠as</option>
            <option value="30">üìÜ Pr√≥ximo mes</option>
          </select>

          <select id="orden-fecha">
            <option value="asc">üìà Fecha ascendente</option>
            <option value="desc">üìâ Fecha descendente</option>
          </select>
        </div>
      </div>
    </section>

    <!-- Contador de partidos -->
    <section id="contador-partidos" class="contador-section">
      <div class="contador-info">
        <span id="total-partidos" class="contador-numero">0</span>
        <span class="contador-texto">partidos programados</span>
      </div>
    </section>

    <!-- Lista de pr√≥ximos partidos -->
    <section id="proximos-section" class="partidos-section">
      <div id="lista-proximos" class="partidos-container">
        <!-- Se llena din√°micamente con JavaScript -->
      </div>
    </section>

    <!-- Loading y estados vac√≠os -->
    <div id="loading-proximos" class="loading-container" style="display: none;">
      <div class="loading-spinner">‚öΩ</div>
      <p>Cargando pr√≥ximos partidos...</p>
    </div>

    <div id="no-partidos" class="empty-state" style="display: none;">
      <div class="empty-icon">üìÖ</div>
      <h3>No hay partidos programados</h3>
      <p>No se encontraron partidos que coincidan con los filtros seleccionados.</p>
    </div>
  </main>
  <!-- Scripts -->
  <script src="proximos.js?v=20250801v3"></script>
  <script>
    // JavaScript mejorado para el men√∫ hamburguesa y funcionalidad
    document.addEventListener('DOMContentLoaded', function() {
      // Men√∫ hamburguesa
      const menuToggle = document.getElementById('menu-toggle');
      const menuDropdown = document.getElementById('menu-dropdown');
      
      if (menuToggle && menuDropdown) {
        menuToggle.addEventListener('click', function() {
          menuDropdown.classList.toggle('active');
          menuToggle.classList.toggle('active');
        });
        
        // Cerrar men√∫ al hacer clic fuera
        document.addEventListener('click', function(event) {
          if (!menuToggle.contains(event.target) && !menuDropdown.contains(event.target)) {
            menuDropdown.classList.remove('active');
            menuToggle.classList.remove('active');
          }
        });
      }

      // Funcionalidad de filtros
      const buscador = document.getElementById('buscador-proximos');
      const filtroDias = document.getElementById('filtro-dias');
      const ordenFecha = document.getElementById('orden-fecha');

      // Event listeners para filtros
      if (buscador) {
        buscador.addEventListener('input', function() {
          if (typeof window.aplicarFiltrosJS === 'function') {
            window.aplicarFiltrosJS();
          }
        });
      }
      if (filtroDias) {
        filtroDias.addEventListener('change', function() {
          if (typeof window.aplicarFiltrosJS === 'function') {
            window.aplicarFiltrosJS();
          }
        });
      }
      if (ordenFecha) {
        ordenFecha.addEventListener('change', function() {
          if (typeof window.aplicarFiltrosJS === 'function') {
            window.aplicarFiltrosJS();
          }
        });
      }
    });

    // Funci√≥n para aplicar todos los filtros
    function aplicarFiltros() {
      // NO llamar a filtrarPartidos para evitar recursi√≥n
      console.log('aplicarFiltros llamada desde HTML');
    }

    // Funci√≥n para mostrar loading
    function mostrarLoading(mostrar = true) {
      const loading = document.getElementById('loading-proximos');
      const contenido = document.getElementById('lista-proximos');
      
      if (loading && contenido) {
        loading.style.display = mostrar ? 'flex' : 'none';
        contenido.style.display = mostrar ? 'none' : 'block';
      }
    }

    // Funci√≥n para actualizar contador
    function actualizarContador(cantidad) {
      const contador = document.getElementById('total-partidos');
      if (contador) {
        contador.textContent = cantidad;
      }
    }
  </script>
</body>
</html>